{
  "version": 3,
  "sources": ["browser-route-module:/project/remix-fetcher-more/app/routes/articles/index.tsx?browser", "../../../../app/routes/articles/index.tsx"],
  "sourcesContent": ["export { default } from \"/project/remix-fetcher-more/app/routes/articles/index.tsx\";", "/* eslint-disable @typescript-eslint/no-use-before-define */\nimport { useEffect, useState } from 'react'\nimport { LoaderFunction, json, useLoaderData, useFetcher, Link } from 'remix'\n\ninterface Article {\n  slug: string\n}\ninterface Tag {\n  slug: string\n}\n\nexport const loader: LoaderFunction = async ({ request }) => {\n  const url = new URL(request.url)\n  const param = url.searchParams.get('skip')\n\n  const skip = param === null ? 0 : parseInt(param, 10)\n\n  const articles = await getArticles({ count: 9, skip })\n  const tags = await getTags()\n  const { title, subTitle } = getSiteData()\n\n  const total = await getArticlesCount()\n\n  return json({ articles, title, subTitle, tags, total })\n}\n\nexport default function ArticlesPage() {\n  const { articles: loaderArticles, tags, total } = useLoaderData()\n  const fetcher = useFetcher()\n\n  const [articles, setArticles] = useState(loaderArticles)\n\n  useEffect(() => {\n    if (fetcher.data && fetcher.data.articles) {\n      setArticles([...articles, ...fetcher.data.articles])\n    }\n  }, [fetcher.data])\n\n  //console.dir([articles?.length, total])\n\n  return (\n    <div className=\"grid grid-cols-layout\">\n      <div className=\"col-start-2\">\n        <h1 className=\"text-3xl text-red-900\">Articles</h1>\n      </div>\n      <div className=\"col-start-2\">\n        <div className=\"grid grid-cols-6 gap-2 my-4\">\n          {tags.map((tag: Tag) => {\n            return (\n              <Link key={tag.slug} to={`/articles/${tag.slug}`}>\n                {tag.slug}\n              </Link>\n            )\n          })}\n        </div>\n        <div className=\"grid grid-cols-3 col-start-2 col-span-3 gap-4\">\n          {articles.map((article: Article) => {\n            return <div key={article.slug}>{article.slug}</div>\n          })}\n          {articles.length < total ? (\n            <div className=\"col-span-3\">\n              <button\n                onClick={() => {\n                  fetcher.load(`/articles?index&skip=${articles.length}`)\n                }}\n                className=\"w-full\"\n              >\n                More...\n              </button>\n            </div>\n          ) : (\n            ''\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction range(start: number, length: number) {\n  return Array.from({ length }, (_, index) => start + index)\n}\n\nasync function getArticles({ count, skip }: { count: number; skip: number }) {\n  return range(skip, count).map((i) => ({\n    slug: `article-${i + 1}`,\n  }))\n}\n\nasync function getTags() {\n  return range(1, 3).map((i) => ({\n    slug: `tag-${i}`,\n  }))\n}\n\nasync function getArticlesCount() {\n  return 100\n}\n\nfunction getSiteData() {\n  return {\n    title: 'Remix Starter',\n    subTitle: 'An example codesandbox',\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;AAAA;;;ACAA;AACA,mBAAoC;AAyBrB,wBAAwB;AACrC,QAAM,EAAE,UAAU,gBAAgB,MAAM,UAAU;AAClD,QAAM,UAAU;AAEhB,QAAM,CAAC,UAAU,eAAe,2BAAS;AAEzC,8BAAU,MAAM;AACd,QAAI,QAAQ,QAAQ,QAAQ,KAAK,UAAU;AACzC,kBAAY,CAAC,GAAG,UAAU,GAAG,QAAQ,KAAK;AAAA;AAAA,KAE3C,CAAC,QAAQ;AAIZ,SACE,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACb,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACb,oCAAC,MAAD;AAAA,IAAI,WAAU;AAAA,KAAwB,cAExC,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACb,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACZ,KAAK,IAAI,CAAC,QAAa;AACtB,WACE,oCAAC,MAAD;AAAA,MAAM,KAAK,IAAI;AAAA,MAAM,IAAI,aAAa,IAAI;AAAA,OACvC,IAAI;AAAA,OAKb,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACZ,SAAS,IAAI,CAAC,YAAqB;AAClC,WAAO,oCAAC,OAAD;AAAA,MAAK,KAAK,QAAQ;AAAA,OAAO,QAAQ;AAAA,MAEzC,SAAS,SAAS,QACjB,oCAAC,OAAD;AAAA,IAAK,WAAU;AAAA,KACb,oCAAC,UAAD;AAAA,IACE,SAAS,MAAM;AACb,cAAQ,KAAK,wBAAwB,SAAS;AAAA;AAAA,IAEhD,WAAU;AAAA,KACX,cAKH;AAAA;",
  "names": []
}
